# π—οΈ λ°±μ—”λ“ μ•„ν‚¤ν…μ² μ™„μ „ κ°€μ΄λ“

**ν”„λ΅μ νΈ**: μλ™λ§¤λ§¤ ν”λ«νΌ
**μ‘μ„±μΌ**: 2025λ…„ 12μ›” 2μΌ
**λ€μƒ**: μ΄λ³΄μλ„ μ΄ν•΄ κ°€λ¥

---

## π“‹ λ©μ°¨

1. [ν•µμ‹¬ μ§λ¬Έ λ‹µλ³€](#ν•µμ‹¬-μ§λ¬Έ-λ‹µλ³€)
2. [μ‹μ¤ν… κ°μ”](#μ‹μ¤ν…-κ°μ”)
3. [λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ΅°](#λ°μ΄ν„°λ² μ΄μ¤-κµ¬μ΅°)
4. [API μ—”λ“ν¬μΈνΈ](#api-μ—”λ“ν¬μΈνΈ)
5. [μ‚¬μ©μ κ²©λ¦¬ λ©”μ»¤λ‹μ¦](#μ‚¬μ©μ-κ²©λ¦¬-λ©”μ»¤λ‹μ¦)
6. [μ „λµ μ‹μ¤ν…](#μ „λµ-μ‹μ¤ν…)
7. [λ΄‡ μ‹¤ν–‰ κµ¬μ΅°](#λ΄‡-μ‹¤ν–‰-κµ¬μ΅°)
8. [λ³΄μ• μ‹μ¤ν…](#λ³΄μ•-μ‹μ¤ν…)

---

## ν•µμ‹¬ μ§λ¬Έ λ‹µλ³€

### Q: 1λ² νμ›μ΄ μ „λµμ„ μƒμ„±ν•λ©΄ 2λ² νμ›κ³Ό μ™„μ „ν λ¶„λ¦¬λλ‚μ”?

**β… λ„¤! μ™„μ „ν λ¶„λ¦¬λ©λ‹λ‹¤.**

```
1λ² νμ›μ λ°μ΄ν„°:
- μ „λµ ID: 4, 5, 6 (user_id = 1)
- κ±°λ λ‚΄μ—­: user_id = 1μΈ λ°μ΄ν„°λ§
- λ΄‡ μƒνƒ: user_id = 1μΈ λ΄‡λ§
- API ν‚¤: user_id = 1μΈ ν‚¤λ§

2λ² νμ›μ λ°μ΄ν„°:
- μ „λµ ID: 7, 8, 9 (user_id = 2)
- κ±°λ λ‚΄μ—­: user_id = 2μΈ λ°μ΄ν„°λ§
- λ΄‡ μƒνƒ: user_id = 2μΈ λ΄‡λ§
- API ν‚¤: user_id = 2μΈ ν‚¤λ§

κ²°κ³Ό:
β… 1λ² νμ›μ€ 2λ² νμ›μ λ°μ΄ν„°λ¥Ό μ λ€ λ³Ό μ μ—†μ
β… κ°μμ μ „λµ, λ΄‡, κ±°λ λ‚΄μ—­μ΄ μ™„μ „ν λ…λ¦½μ 
β… μ„λ΅ λ‹¤λ¥Έ κ±°λμ† API ν‚¤ μ‚¬μ©
```

---

## μ‹μ¤ν… κ°μ”

### μ „μ²΄ κµ¬μ΅°

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚     ν”„λ΅ νΈμ—”λ“ (React)                   β”‚
β”‚     - μ‚¬μ©μμ©: localhost:3000          β”‚
β”‚     - κ΄€λ¦¬μμ©: localhost:3001          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β”‚ HTTP + JWT Token
             β†“
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚     λ°±μ—”λ“ API (FastAPI)                β”‚
β”‚     - Port: 8000                        β”‚
β”‚     - JWT μΈμ¦ ν•„μ                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β”‚
             β†“
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚     λ°μ΄ν„°λ² μ΄μ¤ (SQLite)                β”‚
β”‚     - 13κ° ν…μ΄λΈ”                       β”‚
β”‚     - λ¨λ‘ user_idλ΅ κ²©λ¦¬               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β”‚
             β†“
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚     κ±°λμ† API (Bitget/Binance)         β”‚
β”‚     - μ‚¬μ©μλ³„ API ν‚¤ μ‚¬μ©              β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ΅°

### μ£Όμ” ν…μ΄λΈ” (13κ°)

```sql
-- 1. μ‚¬μ©μ κ³„μ •
users
  id              (PK)
  email           (UNIQUE)
  password_hash   (bcrypt)
  role            ('user' or 'admin')
  exchange        ('bitget', 'binance', 'okx')

-- 2. κ±°λμ† API ν‚¤ (μ•”νΈν™” μ €μ¥)
api_keys
  id              (PK)
  user_id         (FK β†’ users.id) β­ μ‚¬μ©μ κ²©λ¦¬
  encrypted_api_key
  encrypted_secret_key

-- 3. νΈλ μ΄λ”© μ „λµ
strategies
  id              (PK)
  user_id         (FK β†’ users.id λλ” NULL) β­
  name
  description
  code            (Python μ½”λ“)
  params          (JSON)

-- 4. λ΄‡ μ‹¤ν–‰ μƒνƒ
bot_status
  user_id         (PK) β­ ν• μ‚¬μ©μλ‹Ή ν•λ‚μ λ΄‡
  strategy_id     (FK β†’ strategies.id)
  is_running      (BOOLEAN)

-- 5. κ±°λ λ‚΄μ—­
trades
  id              (PK)
  user_id         (FK β†’ users.id) β­
  symbol          ('BTC/USDT')
  side            ('BUY' or 'SELL')
  entry_price
  exit_price
  pnl
  pnl_percent

-- 6. λ°±ν…μ¤νΈ κ²°κ³Ό
backtest_results
  id              (PK)
  user_id         (FK β†’ users.id) β­
  pair
  timeframe
  initial_balance
  final_balance
  metrics         (JSON)
```

### λ°μ΄ν„° κ²©λ¦¬ λ°©μ‹

```
μ‚¬μ©μλ³„ λ°μ΄ν„° μ™„μ „ λ¶„λ¦¬:

users (id=1, email="user1@example.com")
  β†“
  β”β”€ api_keys (user_id=1)        β†’ 1λ² νμ› API ν‚¤
  β”β”€ strategies (user_id=1)      β†’ 1λ² νμ› μ „λµ
  β”β”€ bot_status (user_id=1)      β†’ 1λ² νμ› λ΄‡
  β”β”€ trades (user_id=1)          β†’ 1λ² νμ› κ±°λ
  β””β”€ backtest_results (user_id=1) β†’ 1λ² νμ› λ°±ν…μ¤νΈ

users (id=2, email="user2@example.com")
  β†“
  β”β”€ api_keys (user_id=2)        β†’ 2λ² νμ› API ν‚¤
  β”β”€ strategies (user_id=2)      β†’ 2λ² νμ› μ „λµ
  β”β”€ bot_status (user_id=2)      β†’ 2λ² νμ› λ΄‡
  β”β”€ trades (user_id=2)          β†’ 2λ² νμ› κ±°λ
  β””β”€ backtest_results (user_id=2) β†’ 2λ² νμ› λ°±ν…μ¤νΈ
```

---

## API μ—”λ“ν¬μΈνΈ

### μ£Όμ” API λ©λ΅

```
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
μΈμ¦ API
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
POST /auth/register    - νμ›κ°€μ…
POST /auth/login       - λ΅κ·ΈμΈ

β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
λ΄‡ κ΄€λ¦¬ API (μμ‹ μ λ΄‡λ§)
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
POST /bot/start        - λ΄‡ μ‹μ‘
POST /bot/stop         - λ΄‡ μ¤‘μ§€
GET  /bot/status       - λ΄‡ μƒνƒ μ΅°ν

β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
μ „λµ API
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
GET  /strategy/list    - κ³µμ© μ „λµ λ©λ΅
POST /strategy/select  - μ „λµ μ„ νƒ

β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
AI μ „λµ API (μμ‹ μ μ „λµλ§)
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
POST /ai/strategies/generate  - AI μ „λµ μƒμ„±
GET  /ai/strategies/list      - λ‚΄ AI μ „λµ λ©λ΅
DELETE /ai/strategies/{id}    - AI μ „λµ μ‚­μ 

β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
κ³„μ • API (μμ‹ μ κ³„μ •λ§)
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
GET  /account/balance         - μ”κ³  μ΅°ν
POST /account/save_keys       - API ν‚¤ μ €μ¥
GET  /account/my_keys         - API ν‚¤ μ΅°ν

β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
κ±°λ API (μμ‹ μ κ±°λλ§)
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
GET  /order/history           - κ±°λ λ‚΄μ—­
GET  /trades/positions        - ν¬μ§€μ… λ©λ΅

β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
λ°±ν…μ¤νΈ API (μμ‹ μ κ²°κ³Όλ§)
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
POST /backtest/start          - λ°±ν…μ¤νΈ μ‹μ‘
GET  /backtest/history        - λ°±ν…μ¤νΈ μ΄λ ¥
```

### API μΈμ¦ λ°©μ‹

```
λ¨λ“  API μ”μ²­ μ‹:

1. JWT ν† ν° λ°κΈ‰ (λ΅κ·ΈμΈ μ‹)
   POST /auth/login
   β†’ { "access_token": "eyJhbGc..." }

2. API μ”μ²­ μ‹ ν† ν° ν¬ν•¨
   GET /bot/status
   Headers:
     Authorization: Bearer eyJhbGc...

3. λ°±μ—”λ“μ—μ„ μλ™ κ²€μ¦
   - JWT λ””μ½”λ”©
   - user_id μ¶”μ¶
   - DB μΏΌλ¦¬μ— user_id μλ™ μ μ©
```

---

## μ‚¬μ©μ κ²©λ¦¬ λ©”μ»¤λ‹μ¦

### 3λ‹¨κ³„ λ³΄μ• μ²΄κ³„

```
1λ‹¨κ³„: JWT ν† ν° κ²€μ¦
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
HTTP Request β†’ Bearer Token μ¶”μ¶
            β†“
JWT λ””μ½”λ”© (HS256) β†’ user_id, email μ¶”μ¶
            β†“
μ ν¨ν•μ§€ μ•μΌλ©΄ β†’ 401 Unauthorized

2λ‹¨κ³„: Database μΏΌλ¦¬ μλ™ ν•„ν„°λ§
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
SELECT * FROM trades
WHERE user_id = 1  β† 1λ² νμ›λ§ μ΅°ν

SELECT * FROM trades
WHERE user_id = 2  β† 2λ² νμ›λ§ μ΅°ν

3λ‹¨κ³„: Foreign Key μ μ•½
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
trades.user_id β†’ users.id (CASCADE DELETE)
            β†“
μ‚¬μ©μ μ‚­μ  μ‹ λ¨λ“  λ°μ΄ν„° μλ™ μ‚­μ 
```

### μ‹¤μ  μ½”λ“ μμ‹

```python
# API μ—”λ“ν¬μΈνΈ κµ¬μ΅°
@router.get("/order/history")
async def order_history(
    user_id: int = Depends(get_current_user_id),  # β­ JWTμ—μ„ μλ™ μ¶”μ¶
    session: AsyncSession = Depends(get_session)
):
    # user_idλ” JWTμ—μ„ μλ™μΌλ΅ μ¶”μ¶λ¨
    # λ‹¤λ¥Έ μ‚¬μ©μλ” μ λ€ μ ‘κ·Ό λ¶κ°€

    result = await session.execute(
        select(Trade)
        .where(Trade.user_id == user_id)  # β­ μμ‹ μ κ±°λλ§
        .order_by(Trade.created_at.desc())
    )
    return result.scalars().all()
```

---

## μ „λµ μ‹μ¤ν…

### μ „λµ νƒ€μ… 2κ°€μ§€

#### 1οΈβƒ£ κ³µμ© μ „λµ (Public)

```
user_id = NULL

νΉμ§•:
- κ΄€λ¦¬μκ°€ μƒμ„±
- λ¨λ“  μ‚¬μ©μκ°€ μ‚¬μ© κ°€λ¥
- μμ •/μ‚­μ λ” κ΄€λ¦¬μλ§

μμ‹:
β”β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ ID β”‚ user_id β”‚ name           β”‚
β”β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ 1  β”‚ NULL    β”‚ EMA Crossover  β”‚
β”‚ 2  β”‚ NULL    β”‚ RSI Strategy   β”‚
β””β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

API:
GET /strategy/list  β†’ λ¨λ“  μ‚¬μ©μκ°€ μ΅°ν κ°€λ¥
```

#### 2οΈβƒ£ κ°μΈ μ „λµ (Private)

```
user_id = μ‚¬μ©μ ID

νΉμ§•:
- AIκ°€ μ‚¬μ©μλ³„λ΅ μƒμ„±
- ν•΄λ‹Ή μ‚¬μ©μλ§ μ‚¬μ© κ°€λ¥
- λ‹¤λ¥Έ μ‚¬μ©μλ” μ΅°ν λ¶κ°€

μμ‹:
β”β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ ID β”‚ user_id β”‚ name           β”‚
β”β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ 4  β”‚ 1       β”‚ AI Custom 1    β”‚
β”‚ 5  β”‚ 1       β”‚ AI Custom 2    β”‚
β”‚ 6  β”‚ 2       β”‚ AI Custom 1    β”‚
β””β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

API:
GET /ai/strategies/list  β†’ μμ‹ μ μ „λµλ§ μ΅°ν
```

### AI μ „λµ μƒμ„± ν”„λ΅μ„Έμ¤

```
1. ν”„λ΅ νΈμ—”λ“μ—μ„ μ”μ²­
   POST /ai/strategies/generate
   {
     "prompt": "RSIμ™€ MACDλ¥Ό μ΅°ν•©ν• μ „λµ",
     "count": 3
   }

2. DeepSeek AIκ°€ μ „λµ μƒμ„±
   - 3κ°μ μ „λµ μλ™ μƒμ„±
   - Python μ½”λ“ μƒμ„±
   - νλΌλ―Έν„° μ„¤μ •

3. DBμ— μ €μ¥
   strategies ν…μ΄λΈ”μ— user_id=ν„μ¬ μ‚¬μ©μλ΅ μ €μ¥

4. μ‘λ‹µ
   {
     "success": true,
     "strategies": [
       { "id": 4, "name": "RSI-MACD Combo 1", ... },
       { "id": 5, "name": "RSI-MACD Combo 2", ... },
       { "id": 6, "name": "RSI-MACD Combo 3", ... }
     ]
   }
```

---

## λ΄‡ μ‹¤ν–‰ κµ¬μ΅°

### μ‚¬μ©μλ³„ λ…λ¦½ μ‹¤ν–‰

```
BotManager (μ „μ—­ μ‹±κΈ€ν†¤)
β”β”€ tasks[1] = Task(user_1_bot)  β† 1λ² νμ› λ΄‡
β”β”€ tasks[2] = Task(user_2_bot)  β† 2λ² νμ› λ΄‡
β””β”€ tasks[3] = Task(user_3_bot)  β† 3λ² νμ› λ΄‡

κ° λ΄‡μ€ λ…λ¦½μ μΌλ΅:
β… μμ‹ μ μ „λµ μ‚¬μ©
β… μμ‹ μ API ν‚¤ μ‚¬μ©
β… μμ‹ μ κ±°λ λ‚΄μ—­ μ €μ¥
β… μ„λ΅ μν–¥ μ—†μ΄ μ‹¤ν–‰
```

### λ΄‡ μ‹¤ν–‰ νλ¦„

```
1λ² νμ› λ΄‡ μ‹μ‘
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
POST /bot/start (strategy_id=5)
  β†“
BotManager.start_bot(user_id=1)
  β†“
tasks[1] = asyncio.Task(λ΄‡ λ£¨ν”„)
  β†“
while True:
  - μ‹μ¥ λ°μ΄ν„° μμ‹ 
  - 1λ² νμ› μ „λµ μ‹¤ν–‰
  - 1λ² νμ› API ν‚¤λ΅ μ£Όλ¬Έ
  - 1λ² νμ› κ±°λ λ‚΄μ—­ μ €μ¥

2λ² νμ› λ΄‡ μ‹μ‘
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
POST /bot/start (strategy_id=3)
  β†“
BotManager.start_bot(user_id=2)
  β†“
tasks[2] = asyncio.Task(λ΄‡ λ£¨ν”„)
  β†“
while True:
  - μ‹μ¥ λ°μ΄ν„° μμ‹ 
  - 2λ² νμ› μ „λµ μ‹¤ν–‰
  - 2λ² νμ› API ν‚¤λ΅ μ£Όλ¬Έ
  - 2λ² νμ› κ±°λ λ‚΄μ—­ μ €μ¥

κ²°κ³Ό:
β… 1λ²κ³Ό 2λ² λ΄‡μ€ μ™„μ „ν λ…λ¦½μ 
β… 1λ² λ΄‡ μ¤‘μ§€ν•΄λ„ 2λ² λ΄‡μ€ κ³„μ† μ‹¤ν–‰
```

---

## λ³΄μ• μ‹μ¤ν…

### 6λ‹¨κ³„ λ³΄μ• μ²΄κ³„

```
1. μ „μ†΅ μ•”νΈν™” (HTTPS/WSS)
   - λ¨λ“  λ°μ΄ν„° μ•”νΈν™” μ „μ†΅

2. JWT μΈμ¦
   - λ¨λ“  API μ”μ²­ κ²€μ¦
   - 24μ‹κ°„ μλ™ λ§λ£

3. RBAC κ¶ν• κ΄€λ¦¬
   - user vs admin κµ¬λ¶„
   - κ΄€λ¦¬μ μ „μ© API λ¶„λ¦¬

4. λ°μ΄ν„° κ²©λ¦¬
   - user_idλ΅ μ™„μ „ λ¶„λ¦¬
   - λ‹¤λ¥Έ μ‚¬μ©μ λ°μ΄ν„° μ ‘κ·Ό λ¶κ°€

5. μ•”νΈν™” μ €μ¥
   - API ν‚¤: AES-256 μ•”νΈν™”
   - λΉ„λ°€λ²νΈ: bcrypt ν•΄μ‹±

6. λ¦¬μ†μ¤ μ ν•
   - μ‚¬μ©μλ‹Ή λ΄‡ 3κ° μ ν•
   - μΌμΌ λ°±ν…μ¤νΈ 50ν μ ν•
```

### μ•”νΈν™” λ°©μ‹

```python
# API ν‚¤ μ €μ¥ μ‹
plain_key = "my-api-key-123"
  β†“
AES-256 μ•”νΈν™”
  β†“
encrypted_key = "gAAAAABf..."
  β†“
DB μ €μ¥ (λ³µνΈν™” λ¶κ°€λ¥ν• μƒνƒ)

# API ν‚¤ μ‚¬μ© μ‹
DB μ΅°ν β†’ encrypted_key
  β†“
AES-256 λ³µνΈν™” (μμ‹ μ ν‚¤λ§)
  β†“
plain_key = "my-api-key-123"
  β†“
κ±°λμ† API νΈμ¶
```

---

## λ‹¤μ κµ¬ν„ μ‚¬ν•­

### 1οΈβƒ£ ν”„λ΅ νΈμ—”λ“ μ¶”κ°€ κΈ°λ¥

```
β… μ™„λ£:
- λ΅κ·ΈμΈ νμ΄μ§€
- λ€μ‹λ³΄λ“ νμ΄μ§€
- AuthContext

π”² κµ¬ν„ ν•„μ”:
- νμ›κ°€μ… νμ΄μ§€
- AI μ „λµ μƒμ„± νμ΄μ§€
- μ „λµ λ©λ΅/μ„ νƒ νμ΄μ§€
- λ΄‡ μ μ–΄ ν¨λ„
- μ‹¤μ‹κ°„ μ°¨νΈ
- κ±°λ λ‚΄μ—­ ν…μ΄λΈ”
- API ν‚¤ μ„¤μ • νμ΄μ§€
```

### 2οΈβƒ£ λ°±μ—”λ“ λ³΄μ• κ°•ν™”

```
π”² κµ¬ν„ ν•„μ”:
- κ΄€λ¦¬μ APIμ— require_admin μ μ©
- WebSocket μΈμ¦ μ¶”κ°€
- API ν‚¤ λ§μ¤ν‚Ή (μ•/λ’¤ 4μλ¦¬λ§ ν‘μ‹)
- CORS μ„¤μ • κ°•ν™”
- Rate Limiting μ¶”κ°€
```

### 3οΈβƒ£ κ΄€λ¦¬μ νμ΄μ§€ μ»¤μ¤ν„°λ§μ΄μ§•

```
π”² κµ¬ν„ ν•„μ”:
- νμ› κ΄€λ¦¬ νμ΄μ§€
- μ „μ²΄ λ΄‡ λ¨λ‹ν„°λ§
- μ‹μ¤ν… ν—¬μ¤ μ²΄ν¬
- κ±°λ ν†µκ³„ λ€μ‹λ³΄λ“
```

---

## ν•µμ‹¬ μ”μ•½

### β… μ™„μ „ν• μ‚¬μ©μ κ²©λ¦¬

```
1λ² νμ›κ³Ό 2λ² νμ›μ€:
β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”β”
β… μ „λµ: μ™„μ „ν λ¶„λ¦¬
β… λ΄‡: λ…λ¦½ μ‹¤ν–‰
β… API ν‚¤: κ°μ μ•”νΈν™” μ €μ¥
β… κ±°λ λ‚΄μ—­: μ™„μ „ν λ¶„λ¦¬
β… λ°±ν…μ¤νΈ: μ™„μ „ν λ¶„λ¦¬

β μ„λ΅μ λ°μ΄ν„° μ λ€ μ ‘κ·Ό λ¶κ°€
```

### β… μ•μ „ν• λ³΄μ• μ²΄κ³„

```
- JWT μΈμ¦ (λ¨λ“  API)
- AES-256 μ•”νΈν™” (API ν‚¤)
- bcrypt ν•΄μ‹± (λΉ„λ°€λ²νΈ)
- user_id κΈ°λ° λ°μ΄ν„° κ²©λ¦¬
- λ¦¬μ†μ¤ μ ν• (κ³µμ •ν• λ¶„λ°°)
```

### β… ν™•μ¥ κ°€λ¥ν• κµ¬μ΅°

```
- SQLite β†’ PostgreSQL λ§μ΄κ·Έλ μ΄μ… κ°€λ¥
- κ±°λμ† μ¶”κ°€ (Binance, OKX...)
- AI λ¨λΈ κµμ²΄ (DeepSeek β†’ GPT-4)
- λ‹¤μ¤‘ λ΄‡ μ‹¤ν–‰ μ§€μ›
```

---

**νμΌ μ„μΉ:**
- Backend: `/Users/mr.joo/Desktop/auto-dashboard/backend`
- Frontend: `/Users/mr.joo/Desktop/auto-dashboard/frontend`
- Admin: `/Users/mr.joo/Desktop/auto-dashboard/tailadmin-free-tailwind-dashboard-template`

**μ‘μ„±μ**: Claude Code Assistant
**μµμΆ… μ—…λ°μ΄νΈ**: 2025λ…„ 12μ›” 2μΌ
