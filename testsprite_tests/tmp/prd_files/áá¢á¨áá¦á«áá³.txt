배포 전 백엔드 전체 디버깅 및 점검을 위한 체크리스트를 정리해 드립니다. 최근 변경 사항(그리드 봇, 백테스트, DB 마이그레이션 등)을 중점적으로 포함하여 구성했습니다.

🛠️ 배포 전 백엔드 디버깅 체크리스트
1. 환경 설정 및 보안 (Configuration & Security)
가장 먼저 프로덕션 환경 변수가 제대로 설정되었는지 확인해야 합니다.

파일: 
backend/src/config.py
, .env
체크 항목:
 JWT_SECRET: 개발용 기본값("change_me")이 아닌 강력한 랜덤 문자열로 변경되었는가?
 CORS_ORIGINS: 프로덕션 도메인(프론트엔드 URL)만 허용되어 있는가? (
main.py
 170라인 확인)
 DB_URL: 프로덕션 데이터베이스 주소가 정확한가?
 EXCHANGE_API_KEYS: 바이낸스/비트겟 API 키가 올바르게 설정되었는가? (특히 Testnet/Mainnet 구분)
 ADMIN_IPS: 관리자 페이지 접근을 위한 IP 화이트리스트가 설정되었는가?
2. 데이터베이스 및 마이그레이션 (Database)
최근 ENUM 타입 및 template_id 관련 이슈가 있었으므로 필수 점검 대상입니다.

파일: backend/src/database/, alembic/
체크 항목:
 마이그레이션 상태: alembic upgrade head 실행 시 에러 없이 최신 상태로 동기화되는가?
 스키마 확인: grid_bot_templates 테이블에 template_id 컬럼이 존재하는가?
 ENUM 타입: BotStatus, GridStrategyType 등의 ENUM이 DB에 올바르게 생성되었는가?
3. 핵심 기능 API 테스트 (Core Features)
사용자 흐름에 따른 주요 엔드포인트 점검 리스트입니다.

A. 인증 (Authentication)

POST /auth/register: 신규 가입 정상 작동 여부
POST /auth/login: 로그인 및 JWT 토큰 발급 확인
POST /auth/2fa/setup: 2FA 설정 및 검증 (최근 추가됨)
B. 봇 관리 (Bot Management)

POST /bot/create: 일반 봇 생성
POST /grid-bot/create: 그리드 봇 생성 (최근 통합됨, 템플릿 기반 생성 확인)
POST /bot/{bot_id}/start: 봇 시작 (거래소 연결 확인)
POST /bot/{bot_id}/stop: 봇 중지 및 상태 업데이트
C. 백테스팅 (Backtesting)

POST /backtest/run: 일반 전략 백테스트 실행
POST /user/backtest/run: 캐시 기반 백테스트 (최근 배포, 속도 및 데이터 정확성 확인)
GET /grid-template/list: 그리드 봇 템플릿 목록 조회
4. 외부 연동 및 데이터 (External Integrations)
파일: backend/src/services/bitget_market.py, backend/src/services/telegram.py
체크 항목:
 시세 데이터: GET /market/prices 호출 시 비트겟/바이낸스 실시간 가격이 들어오는가?
 텔레그램 알림: 봇 시작/종료/거래 체결 시 텔레그램 메시지가 전송되는가?
 웹소켓: 프론트엔드 차트/호가창에 데이터가 실시간으로 푸시되는가? (ws_server.router)
5. 관리자 및 모니터링 (Admin & Monitoring)
파일: backend/src/api/admin_*.py
체크 항목:
 GET /admin/users: 사용자 목록 조회
 GET /admin/bots: 전체 봇 실행 현황 모니터링
 GET /health: 서버 상태 및 DB 연결 상태 확인 (Load Balancer Health Check용)
🚀 추천 디버깅 순서 (Smoke Test)
배포 직전 다음 순서대로 Smoke Test를 진행하는 것을 추천합니다.

DB 마이그레이션 확인: 로컬/스테이징 DB에서 alembic upgrade head 실행.
서버 구동: uvicorn src.main:app 실행 후 로그에 에러(ImportError 등)가 없는지 확인.
헬스 체크: 브라우저나 curl로 http://localhost:8000/health 접속하여 {"status": "ok"} 확인.
로그인 테스트: 스웨거(/docs)에서 로그인 후 토큰 발급 확인.
백테스트 실행: 가장 무거운 작업인 백테스트(POST /user/backtest/run)를 돌려보고 서버 부하 및 에러 로그 확인.